{"remainingRequest":"C:\\Users\\Brezgo-1098\\Desktop\\brezz\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Brezgo-1098\\Desktop\\brezz\\src\\ui\\sea-button.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Brezgo-1098\\Desktop\\brezz\\src\\ui\\sea-button.vue","mtime":1587032502000},{"path":"C:\\Users\\Brezgo-1098\\Desktop\\brezz\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Brezgo-1098\\Desktop\\brezz\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\Brezgo-1098\\Desktop\\brezz\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Brezgo-1098\\Desktop\\brezz\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCi8vIGltcG9ydCBQb3BvdmVyIGZyb20gJy4vc2VhLXBvcG92ZXInCmltcG9ydCBTZWFTeW1ib2wgZnJvbSAnLi9zZWEtc3ltYm9sJwoKY29uc3QgbG9nID0gcmVxdWlyZSgnZGVidWcnKSgndWk6YnV0dG9uJykKCi8vIEBhY3Rpb24sIEBjbGljawoKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdzZWEtYnV0dG9uJywKICBjb21wb25lbnRzOiB7IFNlYVN5bWJvbCB9LAogIHByb3BzOiB7CiAgICB0aXRsZTogewogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgIGRlZmF1bHQ6ICcnLAogICAgfSwKICAgIHRoZW1lOiB7CiAgICAgIGRlZmF1bHQ6ICdwcmltYXJ5JywKICAgIH0sCiAgICBzeW1ib2w6IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgfSwKICAgIHN5bWJvbExlZnQ6IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgfSwKICAgIHN5bWJvbFJpZ2h0OiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgIH0sCiAgICByb2xlOiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgZGVmYXVsdDogJ2J1dHRvbicsCiAgICAgIHZhbGlkYXRvcih2YWx1ZSkgewogICAgICAgIHJldHVybiBbJ2J1dHRvbicsICdsaW5rJ10uaW5jbHVkZXModmFsdWUpCiAgICAgIH0sCiAgICB9LAogICAgYWN0aXZlOiB7IC8vIGFjdGl2ZSBzdGF0ZSBmb3Igc2VsZWN0aW9ucwogICAgICB0eXBlOiBCb29sZWFuLAogICAgICBkZWZhdWx0OiBmYWxzZSwKICAgIH0sCiAgICBwYXNzaXZlOiB7IC8vIGRvIG5vdCBsb29zZSBmb2N1cwogICAgICB0eXBlOiBCb29sZWFuLAogICAgICBkZWZhdWx0OiBmYWxzZSwKICAgIH0sCiAgfSwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgZGlzYWJsZWQ6IGZhbHNlLAogICAgICB0b29sdGlwSW5zdGFuY2U6IG51bGwsCiAgICAgIGhvdmVyQ291bnQ6IDAsCiAgICB9CiAgfSwKICBjb21wdXRlZDogewogICAgc2xvdHRlZCgpIHsKICAgICAgcmV0dXJuIHRoaXMudGl0bGUgfHwgdGhpcy4kc2xvdHM/LmRlZmF1bHQ/LlswXSAhPSBudWxsCiAgICB9LAogICAgY2xhc3NuYW1lcygpIHsKICAgICAgcmV0dXJuIHsKICAgICAgICBbYHNlYS0ke3RoaXMucm9sZX1gXTogdHJ1ZSwKICAgICAgICBbYC0ke3RoaXMudGhlbWV9YF06IHRydWUsCiAgICAgICAgJy1hY3RpdmUnOiB0aGlzLmFjdGl2ZSA9PT0gdHJ1ZSwKICAgICAgICAnLWhhcy10aXRsZSc6IHRoaXMuc2xvdHRlZCwKICAgICAgfQogICAgfSwKICB9LAogIG1ldGhvZHM6IHsKICAgIGFzeW5jIGRvQWN0aW9uKGV2KSB7CiAgICAgIC8vIHRoaXMuaGlkZVRvb2x0aXAoKQogICAgICBpZiAodGhpcy5kaXNhYmxlZCkgcmV0dXJuCiAgICAgIHRoaXMuZGlzYWJsZWQgPSB0cnVlCiAgICAgIHRyeSB7CiAgICAgICAgLy8gZXYud2FpdFVudGlsID0gYXN5bmMgKCkgPT4gbnVsbAogICAgICAgIGF3YWl0IHRoaXMuJG5leHRUaWNrKCkKICAgICAgICB0aGlzLiRlbWl0KCdjbGljaycsIGV2KQogICAgICAgIHRoaXMuJGVtaXQoJ2FjdGlvbicsIGV2KQogICAgICAgIHRoaXMuJGVtaXQoJ3VwZGF0ZTphY3RpdmUnLCAhdGhpcy5hY3RpdmUpCiAgICAgICAgaWYgKGV2LndhaXRVbnRpbCkgewogICAgICAgICAgYXdhaXQgZXYud2FpdFVudGlsCiAgICAgICAgfQogICAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgICBjb25zb2xlLmVycm9yKCdFeGNlcHRpb246JywgZXJyKQogICAgICB9CiAgICAgIHRoaXMuZGlzYWJsZWQgPSBmYWxzZQogICAgICBsb2coJ2NsaWNrIGRvbmUnLCBldi53YWl0VW50aWwpCiAgICB9LAogICAgYXN5bmMgZG9DbGljayhldikgewogICAgICBpZiAoIXRoaXMucGFzc2l2ZSkgewogICAgICAgIGF3YWl0IHRoaXMuZG9BY3Rpb24oZXYpCiAgICAgIH0KICAgIH0sCiAgICBhc3luYyBkb0JlZm9yZUNsaWNrKGV2KSB7CiAgICAgIGlmICh0aGlzLnBhc3NpdmUpIHsKICAgICAgICBldi5wcmV2ZW50RGVmYXVsdCgpCiAgICAgICAgYXdhaXQgdGhpcy5kb0FjdGlvbihldikKICAgICAgfQogICAgfSwKICB9LAp9Cg=="},{"version":3,"sources":["sea-button.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;AAwBA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"sea-button.vue","sourceRoot":"src/ui","sourcesContent":["<!-- Copyright (c) 2020 Dirk Holtwick. All rights reserved. https://holtwick.de/copyright -->\n\n<template>\n  <button\n    :class=\"classnames\"\n    v-bind=\"$attrs\"\n    :disabled=\"disabled\"\n    :role=\"role\"\n    @mousedown=\"doBeforeClick\"\n    @click=\"doClick\"\n    @contextmenu=\"doClick\"\n  >\n    <sea-symbol v-if=\"symbol || symbolLeft\" :name=\"symbol || symbolLeft\" class=\"sea-button-symbol-left\"/>\n    {{ title }}\n    <slot></slot>\n    <sea-symbol v-if=\"symbolRight\" :name=\"symbolRight\" class=\"sea-button-symbol-right\"/>\n  </button>\n</template>\n\n<style lang=\"scss\">\n@import \"./sea-button\";\n</style>\n\n<script>\n// import Popover from './sea-popover'\nimport SeaSymbol from './sea-symbol'\n\nconst log = require('debug')('ui:button')\n\n// @action, @click\n\nexport default {\n  name: 'sea-button',\n  components: { SeaSymbol },\n  props: {\n    title: {\n      type: String,\n      default: '',\n    },\n    theme: {\n      default: 'primary',\n    },\n    symbol: {\n      type: String,\n    },\n    symbolLeft: {\n      type: String,\n    },\n    symbolRight: {\n      type: String,\n    },\n    role: {\n      type: String,\n      default: 'button',\n      validator(value) {\n        return ['button', 'link'].includes(value)\n      },\n    },\n    active: { // active state for selections\n      type: Boolean,\n      default: false,\n    },\n    passive: { // do not loose focus\n      type: Boolean,\n      default: false,\n    },\n  },\n  data() {\n    return {\n      disabled: false,\n      tooltipInstance: null,\n      hoverCount: 0,\n    }\n  },\n  computed: {\n    slotted() {\n      return this.title || this.$slots?.default?.[0] != null\n    },\n    classnames() {\n      return {\n        [`sea-${this.role}`]: true,\n        [`-${this.theme}`]: true,\n        '-active': this.active === true,\n        '-has-title': this.slotted,\n      }\n    },\n  },\n  methods: {\n    async doAction(ev) {\n      // this.hideTooltip()\n      if (this.disabled) return\n      this.disabled = true\n      try {\n        // ev.waitUntil = async () => null\n        await this.$nextTick()\n        this.$emit('click', ev)\n        this.$emit('action', ev)\n        this.$emit('update:active', !this.active)\n        if (ev.waitUntil) {\n          await ev.waitUntil\n        }\n      } catch (err) {\n        console.error('Exception:', err)\n      }\n      this.disabled = false\n      log('click done', ev.waitUntil)\n    },\n    async doClick(ev) {\n      if (!this.passive) {\n        await this.doAction(ev)\n      }\n    },\n    async doBeforeClick(ev) {\n      if (this.passive) {\n        ev.preventDefault()\n        await this.doAction(ev)\n      }\n    },\n  },\n}\n</script>\n\n"]}]}