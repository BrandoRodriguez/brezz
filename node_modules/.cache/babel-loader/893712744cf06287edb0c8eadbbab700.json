{"remainingRequest":"C:\\Users\\Brezgo-1098\\Desktop\\brezz\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\Brezgo-1098\\Desktop\\brezz\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\Brezgo-1098\\Desktop\\brezz\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Brezgo-1098\\Desktop\\brezz\\src\\components\\app-share.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Brezgo-1098\\Desktop\\brezz\\src\\components\\app-share.vue","mtime":1587032502000},{"path":"C:\\Users\\Brezgo-1098\\Desktop\\brezz\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Brezgo-1098\\Desktop\\brezz\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\Brezgo-1098\\Desktop\\brezz\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Brezgo-1098\\Desktop\\brezz\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLnRpbWVycyI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lIjsKaW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkM6XFxVc2Vyc1xcQnJlemdvLTEwOThcXERlc2t0b3BcXGJyZXp6XFxub2RlX21vZHVsZXNcXEBiYWJlbFxccnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHsgcXJjb2RlIH0gZnJvbSAnLi4vbGliL3FyY29kZSc7CmltcG9ydCB7IGNyZWF0ZUxpbmtGb3JSb29tLCBzaGFyZUxpbmsgfSBmcm9tICcuLi9saWIvc2hhcmUnOwppbXBvcnQgU2VhQnV0dG9uIGZyb20gJy4uL3VpL3NlYS1idXR0b24nOwoKdmFyIGxvZyA9IHJlcXVpcmUoJ2RlYnVnJykoJ2FwcDphcHAtc2hhcmUnKTsKCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnYXBwLXNoYXJlJywKICBjb21wb25lbnRzOiB7CiAgICBTZWFCdXR0b246IFNlYUJ1dHRvbgogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHVybDogJycsCiAgICAgIHFyY29kZTogJycKICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICBzZWxlY3RBbGw6IGZ1bmN0aW9uIHNlbGVjdEFsbCgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgIHZhciBlbCA9IF90aGlzLiRyZWZzLmlucHV0OwogICAgICAgIGVsLnNlbGVjdCgpOwogICAgICB9LCAwKTsKICAgIH0sCiAgICBkb1NoYXJlOiBmdW5jdGlvbiBkb1NoYXJlKCkgewogICAgICBzaGFyZUxpbmsoY3JlYXRlTGlua0ZvclJvb20odGhpcy5zdGF0ZS5yb29tKSk7CiAgICB9CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgdmFyIHR5cGVOdW1iZXIsIGVycm9yQ29ycmVjdGlvbkxldmVsLCBxcjsKICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIF90aGlzMi51cmwgPSBjcmVhdGVMaW5rRm9yUm9vbShfdGhpczIuc3RhdGUucm9vbSk7CiAgICAgICAgICAgICAgdHlwZU51bWJlciA9IDA7CiAgICAgICAgICAgICAgZXJyb3JDb3JyZWN0aW9uTGV2ZWwgPSAnSCc7CiAgICAgICAgICAgICAgcXIgPSBxcmNvZGUodHlwZU51bWJlciwgZXJyb3JDb3JyZWN0aW9uTGV2ZWwpOwogICAgICAgICAgICAgIHFyLmFkZERhdGEoX3RoaXMyLnVybCk7CiAgICAgICAgICAgICAgcXIubWFrZSgpOwogICAgICAgICAgICAgIF90aGlzMi5xcmNvZGUgPSBxci5jcmVhdGVTdmdUYWcoewogICAgICAgICAgICAgICAgc2NhbGFibGU6IHRydWUKICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwgX2NhbGxlZSk7CiAgICB9KSkoKTsKICB9Cn07"},{"version":3,"sources":["app-share.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6CA,SAAA,MAAA,QAAA,eAAA;AACA,SAAA,iBAAA,EAAA,SAAA,QAAA,cAAA;AACA,OAAA,SAAA,MAAA,kBAAA;;AAEA,IAAA,GAAA,GAAA,OAAA,CAAA,OAAA,CAAA,CAAA,eAAA,CAAA;;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,WADA;AAEA,EAAA,UAAA,EAAA;AAAA,IAAA,SAAA,EAAA;AAAA,GAFA;AAGA,EAAA,IAHA,kBAGA;AACA,WAAA;AACA,MAAA,GAAA,EAAA,EADA;AAEA,MAAA,MAAA,EAAA;AAFA,KAAA;AAIA,GARA;AASA,EAAA,OAAA,EAAA;AACA,IAAA,SADA,uBACA;AAAA;;AACA,MAAA,UAAA,CAAA,YAAA;AACA,YAAA,EAAA,GAAA,KAAA,CAAA,KAAA,CAAA,KAAA;AACA,QAAA,EAAA,CAAA,MAAA;AACA,OAHA,EAGA,CAHA,CAAA;AAIA,KANA;AAOA,IAAA,OAPA,qBAOA;AACA,MAAA,SAAA,CAAA,iBAAA,CAAA,KAAA,KAAA,CAAA,IAAA,CAAA,CAAA;AACA;AATA,GATA;AAoBA,EAAA,OApBA,qBAoBA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA,cAAA,MAAA,CAAA,GAAA,GAAA,iBAAA,CAAA,MAAA,CAAA,KAAA,CAAA,IAAA,CAAA;AACA,cAAA,UAFA,GAEA,CAFA;AAGA,cAAA,oBAHA,GAGA,GAHA;AAIA,cAAA,EAJA,GAIA,MAAA,CAAA,UAAA,EAAA,oBAAA,CAJA;AAKA,cAAA,EAAA,CAAA,OAAA,CAAA,MAAA,CAAA,GAAA;AACA,cAAA,EAAA,CAAA,IAAA;AACA,cAAA,MAAA,CAAA,MAAA,GAAA,EAAA,CAAA,YAAA,CAAA;AACA,gBAAA,QAAA,EAAA;AADA,eAAA,CAAA;;AAPA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAUA;AA9BA,CAAA","sourcesContent":["<template>\n  <div class=\"share-container -scrollable\">\n    <p>\n      {{ l.share.link_info }}\n    </p>\n    <div class=\"p hstack\">\n      <input\n        class=\"input -fit\"\n        type=\"text\"\n        :value=\"url\"\n        ref=\"input\"\n        readonly\n        @click=\"selectAll\">\n      <sea-button @action=\"doShare\">{{ l.share.button_copy }}</sea-button>\n    </div>\n    <p>{{ l.share.qr_info }}</p>\n    <p class=\"qrcode\" v-html=\"qrcode\">QRCode</p>\n    <p v-html=\"l.share.feedback\"></p>\n  </div>\n</template>\n\n<style lang=\"scss\">\n.share-container {\n\n  p, .p {\n    margin-bottom: 1rem;\n  }\n\n  .input {\n    border: 1px solid gray;\n    background: white;\n    padding: 0.5rem;\n    border-radius: 0.25rem;\n    width: 100%;\n    color: #1e89f6;\n    margin-right: 0.5rem;\n  }\n\n  .qrcode {\n    max-width: 50vh;\n  }\n}\n</style>\n\n<script>\nimport { qrcode } from '../lib/qrcode'\nimport { createLinkForRoom, shareLink } from '../lib/share'\nimport SeaButton from '../ui/sea-button'\n\nconst log = require('debug')('app:app-share')\n\nexport default {\n  name: 'app-share',\n  components: { SeaButton },\n  data() {\n    return {\n      url: '',\n      qrcode: '',\n    }\n  },\n  methods: {\n    selectAll() {\n      setTimeout(() => {\n        let el = this.$refs.input\n        el.select()\n      }, 0)\n    },\n    doShare() {\n      shareLink(createLinkForRoom(this.state.room))\n    },\n  },\n  async mounted() {\n    this.url = createLinkForRoom(this.state.room)\n    const typeNumber = 0\n    const errorCorrectionLevel = 'H'\n    const qr = qrcode(typeNumber, errorCorrectionLevel)\n    qr.addData(this.url)\n    qr.make()\n    this.qrcode = qr.createSvgTag({\n      scalable: true,\n    })\n  },\n}\n</script>\n\n"],"sourceRoot":"src/components"}]}