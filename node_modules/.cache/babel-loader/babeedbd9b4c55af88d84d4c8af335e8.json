{"remainingRequest":"C:\\Users\\Brezgo-1098\\Desktop\\brezz\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\Brezgo-1098\\Desktop\\brezz\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\Brezgo-1098\\Desktop\\brezz\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Brezgo-1098\\Desktop\\brezz\\src\\ui\\sea-modal.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Brezgo-1098\\Desktop\\brezz\\src\\ui\\sea-modal.vue","mtime":1587032502000},{"path":"C:\\Users\\Brezgo-1098\\Desktop\\brezz\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Brezgo-1098\\Desktop\\brezz\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\Brezgo-1098\\Desktop\\brezz\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Brezgo-1098\\Desktop\\brezz\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLnRpbWVycyI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCB0cmFwRm9jdXMgZnJvbSAnLi9saWIvZGlyZWN0aXZlcy90cmFwRm9jdXMnOwppbXBvcnQgeyByZW1vdmVFbGVtZW50IH0gZnJvbSAnLi9saWIvaGVscGVycyc7CmltcG9ydCBTZWFMaW5rIGZyb20gJy4vc2VhLWxpbmsnOwppbXBvcnQgU2VhU3ltYm9sIGZyb20gJy4vc2VhLXN5bWJvbCc7Cgp2YXIgbG9nID0gcmVxdWlyZSgnZGVidWcnKSgndWk6c2VhLW1vZGFsJyk7CgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ3NlYS1tb2RhbCcsCiAgcHJvcHM6IHsKICAgIGFjdGl2ZTogewogICAgICB0eXBlOiBCb29sZWFuCiAgICB9LAogICAgdGl0bGU6IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICAiZGVmYXVsdCI6ICcnCiAgICB9LAogICAgY2xvc2U6IHsKICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgImRlZmF1bHQiOiB0cnVlCiAgICB9LAogICAgc3RhbmRhbG9uZTogewogICAgICB0eXBlOiBCb29sZWFuLAogICAgICAiZGVmYXVsdCI6IGZhbHNlCiAgICB9LAogICAgcm9sZTogewogICAgICAiZGVmYXVsdCI6ICdkaWFsb2cnCiAgICB9LAogICAgY2FuQ2FuY2VsOiB7CiAgICAgIHR5cGU6IEJvb2xlYW4sCiAgICAgICJkZWZhdWx0IjogdHJ1ZQogICAgfSwKICAgIG9uQ2FuY2VsOiB7CiAgICAgIHR5cGU6IEZ1bmN0aW9uLAogICAgICAiZGVmYXVsdCI6IGZ1bmN0aW9uIF9kZWZhdWx0KCkgewogICAgICAgIGxvZygnb25DYW5jZWwgbm90IGRlZmluZWQnKTsKICAgICAgfQogICAgfQogIH0sCiAgY29tcG9uZW50czogewogICAgU2VhU3ltYm9sOiBTZWFTeW1ib2wsCiAgICBTZWFMaW5rOiBTZWFMaW5rCiAgfSwKICBkaXJlY3RpdmVzOiB7CiAgICB0cmFwRm9jdXM6IHRyYXBGb2N1cwogIH0sCiAgbWV0aG9kczogewogICAgZG9DYW5jZWw6IGZ1bmN0aW9uIGRvQ2FuY2VsKCkgewogICAgICB2YXIgX3RoaXMkJHBhcmVudDsKCiAgICAgIGxvZygnZG8gY2FuY2VsJyk7CiAgICAgIHRoaXMuJGVtaXQoJ2NhbmNlbCcpOwogICAgICB2YXIgb25DYW5jZWwgPSAodGhpcyA9PT0gbnVsbCB8fCB0aGlzID09PSB2b2lkIDAgPyB2b2lkIDAgOiAoX3RoaXMkJHBhcmVudCA9IHRoaXMuJHBhcmVudCkgPT09IG51bGwgfHwgX3RoaXMkJHBhcmVudCA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3RoaXMkJHBhcmVudC5vbkNhbmNlbCkgfHwgKHRoaXMgPT09IG51bGwgfHwgdGhpcyA9PT0gdm9pZCAwID8gdm9pZCAwIDogdGhpcy5vbkNhbmNlbCk7CgogICAgICBpZiAob25DYW5jZWwpIHsKICAgICAgICBvbkNhbmNlbC5hcHBseShudWxsLCBhcmd1bWVudHMpOwogICAgICB9CgogICAgICB0aGlzLmRvQ2xvc2UoKTsKICAgIH0sCiAgICBkb0Nsb3NlOiBmdW5jdGlvbiBkb0Nsb3NlKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgdGhpcy4kZW1pdCgnY2xvc2UnLCBmYWxzZSk7CiAgICAgIHRoaXMuJGVtaXQoJ3VwZGF0ZTphY3RpdmUnLCBmYWxzZSk7CgogICAgICBpZiAodGhpcy5zdGFuZGFsb25lKSB7CiAgICAgICAgLy8gVGltZW91dCBmb3IgdGhlIGFuaW1hdGlvbiBjb21wbGV0ZSBiZWZvcmUgZGVzdHJveWluZwogICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgLy8gdGhpcy5hY3RpdmUgPSBmYWxzZQogICAgICAgICAgX3RoaXMuJGRlc3Ryb3koKTsKCiAgICAgICAgICByZW1vdmVFbGVtZW50KF90aGlzLiRlbCk7CiAgICAgICAgfSwgMTUwKTsKICAgICAgfQogICAgfSwKICAgIGtleVByZXNzOiBmdW5jdGlvbiBrZXlQcmVzcyhldmVudCkgewogICAgICBpZiAodGhpcy5hY3RpdmUgJiYgZXZlbnQua2V5Q29kZSA9PT0gMjcpIHsKICAgICAgICAvLyBFc2Mga2V5CiAgICAgICAgdGhpcy5kb0NhbmNlbCgnZXNjYXBlJyk7CiAgICAgIH0KICAgIH0KICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB2YXIgX2RvY3VtZW50OwoKICAgIChfZG9jdW1lbnQgPSBkb2N1bWVudCkgPT09IG51bGwgfHwgX2RvY3VtZW50ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5dXAnLCB0aGlzLmtleVByZXNzKTsKICB9LAogIGJlZm9yZU1vdW50OiBmdW5jdGlvbiBiZWZvcmVNb3VudCgpIHsKICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgIC8vIEluc2VydCB0aGUgRGlhbG9nIGNvbXBvbmVudCBpbiB0aGUgZWxlbWVudCBjb250YWluZXIKICAgIGlmICh0aGlzLnN0YW5kYWxvbmUgJiYgdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpIHsKICAgICAgdGhpcy4kbmV4dFRpY2soZnVuY3Rpb24gKCkgewogICAgICAgIHZhciBjb250YWluZXIgPQogICAgICAgIC8qIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodGhpcy5jb250YWluZXIpIHx8ICovCiAgICAgICAgZG9jdW1lbnQuYm9keTsKICAgICAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQoX3RoaXMyLiRlbCk7CiAgICAgIH0pOwogICAgfQogIH0sCiAgYmVmb3JlRGVzdHJveTogZnVuY3Rpb24gYmVmb3JlRGVzdHJveSgpIHsKICAgIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJykgewogICAgICB2YXIgX2RvY3VtZW50MjsKCiAgICAgIChfZG9jdW1lbnQyID0gZG9jdW1lbnQpID09PSBudWxsIHx8IF9kb2N1bWVudDIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9kb2N1bWVudDIucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5dXAnLCB0aGlzLmtleVByZXNzKTsgLy8gcmVzZXQgc2Nyb2xsCiAgICAgIC8vIGRvY3VtZW50Py5kb2N1bWVudEVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSgnaXMtY2xpcHBlZCcpCiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["sea-modal.vue"],"names":[],"mappings":"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","sourcesContent":["<!-- Copyright (c) 2020 Dirk Holtwick. All rights reserved. https://holtwick.de/copyright -->\n\n<template>\n  <div class=\"sea-modal \" :class=\"{active}\" id=\"modal-id\" tabindex=\"-1\" v-trap-focus aria-modal=\"true\" :role=\"role\">\n    <a @click=\"doCancel\" class=\"sea-modal-overlay\" aria-label=\"Close\"></a>\n    <div class=\"sea-modal-container vstack\">\n      <header class=\"sea-modal-header modal-header -fix\" v-if=\"title || close\">\n        <div class=\"hstack\">\n          <div class=\"sea-modal-title -fit\">\n            <slot name=\"title\">{{ title }}</slot>\n          </div>\n          <sea-link v-if=\"close\" xtooltip=\"Close\" @click=\"doCancel\" class=\"-fix\" symbol=\"xmark\"/>\n        </div>\n      </header>\n      <section class=\"sea-modal-body modal-body -fit -scrollable\">\n        <slot></slot>\n      </section>\n    </div>\n  </div>\n</template>\n\n<style lang=\"scss\">\n@import \"./sea-modal\";\n</style>\n\n<script>\nimport trapFocus from './lib/directives/trapFocus'\nimport { removeElement } from './lib/helpers'\nimport SeaLink from './sea-link'\nimport SeaSymbol from './sea-symbol'\n\nconst log = require('debug')('ui:sea-modal')\n\nexport default {\n  name: 'sea-modal',\n  props: {\n    active: {\n      type: Boolean,\n    },\n    title: {\n      type: String,\n      default: '',\n    },\n    close: {\n      type: Boolean,\n      default: true,\n    },\n    standalone: {\n      type: Boolean,\n      default: false,\n    },\n    role: {\n      default: 'dialog',\n    },\n    canCancel: {\n      type: Boolean,\n      default: true,\n    },\n    onCancel: {\n      type: Function,\n      default: () => {\n        log('onCancel not defined')\n      },\n    },\n  },\n  components: {\n    SeaSymbol,\n    SeaLink,\n  },\n  directives: {\n    trapFocus,\n  },\n  methods: {\n    doCancel() {\n      log('do cancel')\n      this.$emit('cancel')\n      let onCancel = this?.$parent?.onCancel || this?.onCancel\n      if (onCancel) {\n        onCancel.apply(null, arguments)\n      }\n      this.doClose()\n    },\n    doClose() {\n      this.$emit('close', false)\n      this.$emit('update:active', false)\n\n      if (this.standalone) {\n        // Timeout for the animation complete before destroying\n        setTimeout(() => {\n          // this.active = false\n          this.$destroy()\n          removeElement(this.$el)\n        }, 150)\n      }\n    },\n    keyPress(event) {\n      if (this.active && event.keyCode === 27) { // Esc key\n        this.doCancel('escape')\n      }\n    },\n  },\n  created() {\n    document?.addEventListener('keyup', this.keyPress)\n  },\n  beforeMount() {\n    // Insert the Dialog component in the element container\n    if (this.standalone && typeof window !== 'undefined') {\n      this.$nextTick(() => {\n        const container = /* document.querySelector(this.container) || */ document.body\n        container.appendChild(this.$el)\n      })\n    }\n  },\n  beforeDestroy() {\n    if (typeof window !== 'undefined') {\n      document?.removeEventListener('keyup', this.keyPress)\n      // reset scroll\n      // document?.documentElement.classList.remove('is-clipped')\n    }\n  },\n\n}\n</script>\n"],"sourceRoot":"src/ui"}]}