{"remainingRequest":"C:\\Users\\Brezgo-1098\\Desktop\\brezz\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\Brezgo-1098\\Desktop\\brezz\\src\\lib\\share.js","dependencies":[{"path":"C:\\Users\\Brezgo-1098\\Desktop\\brezz\\src\\lib\\share.js","mtime":1587032502000},{"path":"C:\\Users\\Brezgo-1098\\Desktop\\brezz\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Brezgo-1098\\Desktop\\brezz\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiQzpcXFVzZXJzXFxCcmV6Z28tMTA5OFxcRGVza3RvcFxcYnJlenpcXG5vZGVfbW9kdWxlc1xcQGJhYmVsXFxydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwppbXBvcnQgY2xpcGJvYXJkQ29weSBmcm9tICdjbGlwYm9hcmQtY29weSc7CmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVMaW5rRm9yUm9vbShyb29tKSB7CiAgcmV0dXJuICJodHRwczovL2JyaWUuZmkvbmcvIi5jb25jYXQocm9vbSk7Cn0KZXhwb3J0IGZ1bmN0aW9uIHNoYXJlTGluayhfeCkgewogIHJldHVybiBfc2hhcmVMaW5rLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7Cn0KCmZ1bmN0aW9uIF9zaGFyZUxpbmsoKSB7CiAgX3NoYXJlTGluayA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSh1cmwpIHsKICAgIHZhciBfcmVmLAogICAgICAgIF9yZWYkdGl0bGUsCiAgICAgICAgdGl0bGUsCiAgICAgICAgX3JlZiR0ZXh0LAogICAgICAgIHRleHQsCiAgICAgICAgX2FyZ3MgPSBhcmd1bWVudHM7CgogICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICBfcmVmID0gX2FyZ3MubGVuZ3RoID4gMSAmJiBfYXJnc1sxXSAhPT0gdW5kZWZpbmVkID8gX2FyZ3NbMV0gOiB7fSwgX3JlZiR0aXRsZSA9IF9yZWYudGl0bGUsIHRpdGxlID0gX3JlZiR0aXRsZSA9PT0gdm9pZCAwID8gJ0JyaWVmaW5nIFVSTCcgOiBfcmVmJHRpdGxlLCBfcmVmJHRleHQgPSBfcmVmLnRleHQsIHRleHQgPSBfcmVmJHRleHQgPT09IHZvaWQgMCA/ICdQbGVhc2Ugb3BlbiB0aGUgbGluayBpbiB5b3VyIGJyb3dzZXIgdG8gam9pbiB0aGUgdmlkZW8gY29uZmVyZW5jZScgOiBfcmVmJHRleHQ7CgogICAgICAgICAgICBpZiAoIW5hdmlnYXRvci5zaGFyZSkgewogICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxMTsKICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgX2NvbnRleHQucHJldiA9IDI7CiAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA1OwogICAgICAgICAgICByZXR1cm4gbmF2aWdhdG9yLnNoYXJlKHsKICAgICAgICAgICAgICB0aXRsZTogdGl0bGUsCiAgICAgICAgICAgICAgdGV4dDogdGV4dCwKICAgICAgICAgICAgICB1cmw6IHVybAogICAgICAgICAgICB9KTsKCiAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5hYnJ1cHQoInJldHVybiIsIHRydWUpOwoKICAgICAgICAgIGNhc2UgODoKICAgICAgICAgICAgX2NvbnRleHQucHJldiA9IDg7CiAgICAgICAgICAgIF9jb250ZXh0LnQwID0gX2NvbnRleHRbImNhdGNoIl0oMik7CiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0V4Y2VwdGlvbjonLCBfY29udGV4dC50MCk7CgogICAgICAgICAgY2FzZSAxMToKICAgICAgICAgICAgaWYgKCF3aW5kb3cuZWxlY3Ryb24pIHsKICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjI7CiAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSAxMjsKICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDE1OwogICAgICAgICAgICByZXR1cm4gd2luZG93LmVsZWN0cm9uLmNsaXBib2FyZC53cml0ZVRleHQodXJsKTsKCiAgICAgICAgICBjYXNlIDE1OgogICAgICAgICAgICBhbGVydCgnVGhlIFVSTCBoYXMgYmVlbiBjb3BpZWQgdG8geW91ciBjbGlwYm9hcmQuJyk7CiAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5hYnJ1cHQoInJldHVybiIsIHRydWUpOwoKICAgICAgICAgIGNhc2UgMTk6CiAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSAxOTsKICAgICAgICAgICAgX2NvbnRleHQudDEgPSBfY29udGV4dFsiY2F0Y2giXSgxMik7CiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0V4Y2VwdGlvbjonLCBfY29udGV4dC50MSk7CgogICAgICAgICAgY2FzZSAyMjoKICAgICAgICAgICAgX2NvbnRleHQucHJldiA9IDIyOwogICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjU7CiAgICAgICAgICAgIHJldHVybiBjbGlwYm9hcmRDb3B5KHVybCk7CgogICAgICAgICAgY2FzZSAyNToKICAgICAgICAgICAgYWxlcnQoJ1RoZSBVUkwgaGFzIGJlZW4gY29waWVkIHRvIHlvdXIgY2xpcGJvYXJkLicpOwogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuYWJydXB0KCJyZXR1cm4iLCB0cnVlKTsKCiAgICAgICAgICBjYXNlIDI5OgogICAgICAgICAgICBfY29udGV4dC5wcmV2ID0gMjk7CiAgICAgICAgICAgIF9jb250ZXh0LnQyID0gX2NvbnRleHRbImNhdGNoIl0oMjIpOwogICAgICAgICAgICBjb25zb2xlLmVycm9yKCdFeGNlcHRpb246JywgX2NvbnRleHQudDIpOwoKICAgICAgICAgIGNhc2UgMzI6CiAgICAgICAgICAgIGFsZXJ0KCJDYW5ub3QgY29weSAiLmNvbmNhdCh1cmwsICIuIFBsZWFzZSBkbyBieSBoYW5kLiIpKTsKCiAgICAgICAgICBjYXNlIDMzOgogICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0sIF9jYWxsZWUsIG51bGwsIFtbMiwgOF0sIFsxMiwgMTldLCBbMjIsIDI5XV0pOwogIH0pKTsKICByZXR1cm4gX3NoYXJlTGluay5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwp9"},{"version":3,"sources":["C:/Users/Brezgo-1098/Desktop/brezz/src/lib/share.js"],"names":["clipboardCopy","createLinkForRoom","room","shareLink","url","title","text","navigator","share","console","error","window","electron","clipboard","writeText","alert"],"mappings":";;AAAA,OAAOA,aAAP,MAA0B,gBAA1B;AAEA,OAAO,SAASC,iBAAT,CAA2BC,IAA3B,EAAiC;AACtC,sCAA6BA,IAA7B;AACD;AAED,gBAAsBC,SAAtB;AAAA;AAAA;;;uEAAO,iBAAyBC,GAAzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA,2EAGH,EAHG,oBACLC,KADK,EACLA,KADK,2BACG,cADH,gCAELC,IAFK,EAELA,IAFK,0BAEE,mEAFF;;AAAA,iBAIDC,SAAS,CAACC,KAJT;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA,mBAMKD,SAAS,CAACC,KAAV,CAAgB;AACpBH,cAAAA,KAAK,EAALA,KADoB;AAEpBC,cAAAA,IAAI,EAAJA,IAFoB;AAGpBF,cAAAA,GAAG,EAAHA;AAHoB,aAAhB,CANL;;AAAA;AAAA,6CAWM,IAXN;;AAAA;AAAA;AAAA;AAaDK,YAAAA,OAAO,CAACC,KAAR,CAAc,YAAd;;AAbC;AAAA,iBAgBDC,MAAM,CAACC,QAhBN;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA,mBAmBKD,MAAM,CAACC,QAAP,CAAgBC,SAAhB,CAA0BC,SAA1B,CAAoCV,GAApC,CAnBL;;AAAA;AAoBDW,YAAAA,KAAK,CAAC,4CAAD,CAAL;AApBC,6CAqBM,IArBN;;AAAA;AAAA;AAAA;AAuBDN,YAAAA,OAAO,CAACC,KAAR,CAAc,YAAd;;AAvBC;AAAA;AAAA;AAAA,mBA2BGV,aAAa,CAACI,GAAD,CA3BhB;;AAAA;AA4BHW,YAAAA,KAAK,CAAC,4CAAD,CAAL;AA5BG,6CA6BI,IA7BJ;;AAAA;AAAA;AAAA;AA+BHN,YAAAA,OAAO,CAACC,KAAR,CAAc,YAAd;;AA/BG;AAiCLK,YAAAA,KAAK,uBAAgBX,GAAhB,0BAAL;;AAjCK;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,G","sourcesContent":["import clipboardCopy from 'clipboard-copy'\n\nexport function createLinkForRoom(room) {\n  return `https://brie.fi/ng/${room}`\n}\n\nexport async function shareLink(url, {\n  title = 'Briefing URL',\n  text = 'Please open the link in your browser to join the video conference',\n} = {}) {\n  if (navigator.share) {\n    try {\n      await navigator.share({\n        title,\n        text,\n        url,\n      })\n      return true\n    } catch (err) {\n      console.error('Exception:', err)\n    }\n  }\n  if (window.electron) {\n    try {\n      // https://electronjs.org/docs/api/clipboard\n      await window.electron.clipboard.writeText(url)\n      alert('The URL has been copied to your clipboard.')\n      return true\n    } catch (err) {\n      console.error('Exception:', err)\n    }\n  }\n  try {\n    await clipboardCopy(url)\n    alert('The URL has been copied to your clipboard.')\n    return true\n  } catch (err) {\n    console.error('Exception:', err)\n  }\n  alert(`Cannot copy ${url}. Please do by hand.`)\n}\n"]}]}